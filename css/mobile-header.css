/* ============================================
   MOBILE HEADER STYLES (для всех страниц)
   ВАЖНО: Этот файл должен подключаться ПОСЛЕДНИМ!
   ============================================ */

:root {
    --header-height-mobile: 60px;
}

/* На больших экранах прячем мобильную шапку и sidebar работает нормально */
@media (min-width: 1024px) {
    .mobile-header {
        display: none !important;
    }

    .sidebar-overlay {
        display: none !important;
    }
}

/* На планшетах и мобильных (САМЫЕ ВАЖНЫЕ СТИЛИ!) */
@media (max-width: 1023px) {

    /* Мобильная шапка */
    .mobile-header {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: var(--header-height-mobile);
        background: #0a0a0f;
        /* Pure deep dark background */
        backdrop-filter: blur(10px);
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        /* Very subtle border */
        display: flex;
        align-items: center;
        padding: 0 20px;
        z-index: 2000 !important;
        justify-content: space-between;
        box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
    }

    .mobile-menu-btn {
        background: #7c3aed;
        /* Strong purple color from image */
        border: none;
        border-radius: 12px;
        width: 44px;
        height: 44px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 0 15px rgba(124, 58, 237, 0.4);
    }

    .mobile-menu-btn:hover {
        background: #8b5cf6;
        transform: scale(1.05);
    }

    .mobile-menu-btn svg {
        width: 20px;
        height: 20px;
        color: white;
    }

    .mobile-logo-text {
        font-family: 'Space Grotesk', sans-serif;
        font-size: 20px;
        font-weight: 700;
        color: #ffffff;
        letter-spacing: -0.5px;
        flex: 1;
        text-align: center;
    }

    .mobile-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--neon-blue), var(--neon-purple));
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 14px;
        color: white;
        box-shadow: 0 4px 10px rgba(139, 92, 246, 0.3);
    }

    .mobile-avatar::before {
        content: 'AD';
    }

    /* Отступ для main-content, чтобы не залезал под header */
    .main-content {
        margin-left: 0 !important;
        padding-top: calc(var(--header-height-mobile) + 20px) !important;
    }

    /* КРИТИЧНО: Sidebar на мобильных - скрыт слева */
    .sidebar,
    aside.sidebar,
    .sidebar.glass-effect {
        position: fixed !important;
        left: 0 !important;
        top: 0 !important;
        height: 100vh !important;
        max-height: 100vh !important;
        width: 280px !important;
        transform: translateX(-100%) !important;
        transition: transform 0.3s ease !important;
        z-index: 1001 !important;
        background: #05060a !important;
        backdrop-filter: blur(10px) !important;
        border-right: 1px solid rgba(255, 255, 255, 0.1) !important;
        padding: var(--spacing-lg) !important;
        overflow-y: auto !important;
        box-shadow: 4px 0 20px rgba(0, 0, 0, 0.3) !important;
    }

    /* КРИТИЧНО: Когда sidebar активен - показываем */
    .sidebar.active,
    aside.sidebar.active,
    .sidebar.glass-effect.active {
        transform: translateX(0) !important;
    }

    /* КРИТИЧНО: Overlay для затемнения фона */
    .sidebar-overlay {
        display: block !important;
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        width: 100% !important;
        height: 100% !important;
        background: rgba(0, 0, 0, 0.6) !important;
        backdrop-filter: blur(2px) !important;
        z-index: 1000 !important;
        opacity: 0 !important;
        visibility: hidden !important;
        transition: all 0.3s ease !important;
    }

    .sidebar-overlay.active {
        opacity: 1 !important;
        visibility: visible !important;
    }
}